{% macro render_field_icon(field, icon_name, placeholder, type='text') %}
<div class="space-y-1">
    <label for="{{ field.id }}" class="block text-sm font-medium text-gray-700 mb-1">
        {{ field.label.text }}
    </label>
    <div class="relative group">
        <div class="absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none">
            <i data-lucide="{{ icon_name }}" class="w-5 h-5 text-gray-400 group-focus-within:text-navy-600 transition-colors"></i>
        </div>
        
        {{ field(class="block w-full pl-10 pr-3 py-3 border border-gray-300 rounded-lg leading-5 bg-gray-50 placeholder-gray-400 focus:outline-none focus:bg-white focus:ring-2 focus:ring-navy-900 focus:border-navy-900 sm:text-sm transition-all duration-200 " + ("border-red-500 focus:ring-red-500 focus:border-red-500" if field.errors else ""), placeholder=placeholder, type=type) }}
    </div>
    
    {% if field.errors %}
        {% for error in field.errors %}
            <p class="text-xs text-red-600 mt-1 flex items-center">
                <i data-lucide="alert-circle" class="w-3 h-3 mr-1"></i> {{ error }}
            </p>
        {% endfor %}
    {% endif %}
</div>
{% endmacro %}